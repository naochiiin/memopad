<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./js/jquery-2.1.3.min.js"></script>
    <title>Document</title>
</head>
<body>
        <div class="container m-3 p-4 shadow rounded">
        <h2><i class="fas fa-child"></i> todos <i class="fas fa-child"></i></h2>
        <div class="form-inline mb-3">
          <input type="text" class="form-control w-50" id="todo" placeholder="input todo..." />
          <button class="btn btn-primary ml-2" id="save">save</button>
          <button class="btn btn-danger ml-2" id="delete">delete all</button>
        </div>
        <ul class="list-group" id="list">
        </ul>
      </div>

      <script>
          $(function(){
  // 削除処理
  $("#delete").on("click", function(){
    localStorage.clear();
    showList();
  });

  // 保存処理
  $("#save").on("click", function(){
    localStorage.setItem(localStorage.length.toString(), $("#todo").val());
    $("#todo").val("");
    showList();
  });

  showList();
});

function showList() {
  $("#list").html("");
  for (let i = 0; i < localStorage.length; i++) {
    $("#list").append("<li class='list-group-item'><button class='btn btn-danger mr-2' onclick='deleteItem("+ localStorage.key(i) +")'><i class='fas fa-trash-alt'></i></button>" + localStorage.getItem(localStorage.key(i)) + "</li>");
  }
}

function deleteItem(i) {
  localStorage.removeItem(i);
  showList();
}
      </script>
</body>
</html>